{% extends "coaching/dashboard/_dashboard.html" %} 

{% block extra_content %}

<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-left text-sm text-gray-500 dark:text-gray-400 rtl:text-right">
        <thead class="bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">الاسم</th>
                <th scope="col" class="px-6 py-3">البريد الإلكتروني</th>
                <th scope="col" class="px-6 py-3">الهاتف</th>
                <th scope="col" class="px-6 py-3">التاريخ والوقت المجدول</th>
                <th scope="col" class="px-6 py-3">مصدر الإحالة</th>
                <th scope="col" class="px-6 py-3">الخطة</th>
                <th scope="col" class="px-6 py-3">المنطقة الزمنية</th>
                <th scope="col" class="px-6 py-3">تاريخ الإنشاء</th>
                <th scope="col" class="px-6 py-3">إجراءات</th>
            </tr>
        </thead>
        <tbody>
            {% for request in coaching_requests %}
            <tr class="border-b odd:bg-white even:bg-gray-50 dark:border-gray-700 odd:dark:bg-gray-900 even:dark:bg-gray-800">
                <td class="whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white">{{ request.name }}</td>
                <td class="px-6 py-4">{{ request.email }}</td>
                <td class="px-6 py-4">{{ request.phone }}</td>
                <td class="px-6 py-4">{{ request.scheduled_datetime|date:"Y-m-d H:i" }}</td>
                <td class="px-6 py-4">
                    {% for source_value, source_display in request.REFERRAL_SOURCES %}
                        {% if source_value == request.referral_source %}
                            {{ source_display }}
                        {% endif %}
                    {% endfor %}
                </td>
                <td class="px-6 py-4">{{ request.plan.name }}</td>
                <td class="px-6 py-4">{{ request.timezone }}</td>
                <td class="px-6 py-4">{{ request.created_at|date:"Y-m-d" }}</td>
                <td class="flex px-6 py-4">
                    <a href="#" class="me-2 rounded-lg bg-yellow-400 px-3 py-1 text-center text-sm font-medium text-white hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 dark:focus:ring-yellow-900">عرض</a>
                    <a href="#" class="me-2 rounded-lg bg-red-700 px-3 py-1 text-center text-sm font-medium text-white hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">حذف</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}